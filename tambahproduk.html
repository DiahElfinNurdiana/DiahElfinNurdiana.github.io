<!DOCTYPE html>
<html>
<head>
	<title>Tambah Produk</title>
	<link rel ="stylesheet" href="tambahproduk.css">
</head>
<body>
	<div class="wrap">
			<h1> Tambahkan Produk </h1>
			<form>
				<div class="tambahgbr">
	                <input type="file" id="imgUpload"><br>Tambahkan Gambar Produk
	            </div>

	            <div id="imgPreview" class="thumbnail" style="display:none">
	                <img class="img-responsive" id="targetImg">
	                    <div class="caption">
	                        <span id="description"></span>
	                    </div>
	            </div>
				<input type ="text" placeholder="Judul Buku" required>
				<input type ="text" placeholder="Penulis Buku" required>
				<input type ="text" placeholder="Harga Buku" required>
				<input type ="text" placeholder="Jumlah Buku" required><br><br>
				<!-- <input type="text" placeholder="Keterangan Lainnya"><br><br> -->
			     <h3> Deskripsi Produk : </h3>
			      <textarea name="deskripsi" rows="7" cols=26.5></textarea>
			      <br>
				<input type ="submit" value="Simpan"><br><br><br>
				<a href="index.html"><br>Batal</a>
			</form>
</div>
</body>
<script src="jquery.js"></script>
    <script type="text/javascript">
        $.fn.uploadGambar = function () { //extending jquery
                this.change(function(event) {
                    if(this.files.length > 0){
                        console.log(this.files[0]);
                        var name = this.files[0].name;
                        var size = this.files[0].size;
                        var ukuran = "";
                        if (size >= 1000000 ) { //MB
                            size = Math.ceil(size/1000000);
                            ukuran = size + "MB";
                        }
                        else if (size >= 1000) { //KB
                            size = Math.ceil(size/1000);
                            ukuran = size + "KB";
                        }
                        else if(size < 1000){
                            ukuran = size + "Byte";
                        }

                        $("#info").html(`
                            <p>Nama File : `+name+`</p>
                            <p>Ukuran File : `+ukuran+`</p>
                            `
                        );

                        if (this.files && this.files[0]) {
                        var reader = new FileReader();
                        reader.onload = function(e) {
                            $('#preview').show();
                            $('#preview').attr('src', e.target.result);
                        }
                        reader.readAsDataURL(this.files[0]);
                        }
                    }
                });
            }
            $("#img").uploadGambar();
    </script>
</html>
